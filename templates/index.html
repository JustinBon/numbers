{% extends "layout.html" %}


<head>
    {% block scripts %}
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/echarts/4.1.0/echarts-en.common.min.js"></script>
    <script src="static/index.js"></script>
    {% endblock %}
</head>

{% block body %}
<button type="button" class="btn btn-success" id="get_data">Refresh data</button>
<div id="main" style="width:1000px; height:400px;"></div>

<script>
    var data = {{ data }};
    var myChart = echarts.init(document.getElementById('main'));

    // specify chart configuration item and data
    var option = {
        title: {
            text: 'Today\'s number'
        },
        tooltip: {},
        legend: {
            data:Object.keys(data)
        },
        xAxis: {
            data: [1,2,3,4,5,6,7,8,9,10]
        },
        yAxis: {},
        series: [{
            name: 'Numbers',
            type: 'bar',
            data: Object.values(data)
        }]
    };

    myChart.setOption(option);
</script>
{% endblock %}
